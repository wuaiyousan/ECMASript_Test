<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>箭头函数</title>
</head>
<body>
  <script>
    // 1.this是静态的，this永远指向箭头函数定义是所在作用域下的this的值
    function getName(){
      console.log('普通函数',this.name);
    }
    let getName2 = ()=>{
      console.log('箭头函数',this.name);
    }
    // 设置window的值
    window.name = '熊海鹰'
    let person = {
      name: 'xhy'
    }

    // 调用函数
    // getName()
    // getName2()
    // call 方法调用函数
    getName.call(person)
    getName2.call(person)

    // 2. 不能作为构造函数实例化对象
    // let Person = (name,age)=>{
    //   this.name = name;
    //   this.age = age;
    // }
    //let me = new Person('xhy',29) 

    // 3.不能使用arguments变量， arguments变量：用于在函数内部保存实参
    // function demoTest(){
    //   console.log(arguments);
    // }

    // let demoTest = ()=>{
    //   console.log(arguments);
    // }

    // demoTest(1,2,3)

    // 4.箭头函数的简写
    // 4.1  省略小括号，当形参有且只有一个的时候
    let add = n =>{
      console.log(n+n);
      return n + n;
    }
    add(8)
    // 4.2 省略大括号，当代码体只有一条语句的时候，此时return 关键字也必须省略
    let add2 = (n)=> n*n
    console.log(add2(8));


    // 案例
    // 需求2 - 从数组中返回偶数
    let arr = [1, 2, 3, 4, 5, 6]
    let result = arr.filter(item=> item % 2 === 0)
    console.log(result);

    // 箭头函数适合与this 无关的回调。 定时器，数组的方法回调
    // 箭头函数不适合与this 有关的回调。DOM元素的事件回调，对象的方法

  </script>
</body>
</html>